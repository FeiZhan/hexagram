<!DOCTYPE html>
<html>
	<head>
		<title="Magic Circles"></title>
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/css/bootstrap.css">
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/styles/github.min.css">
		<link rel="stylesheet" type="text/css" href="styles/circles.css">
	</head>

	<body>

<div class='example'>
    <h2>Repeating Pattern</h2>
    <p>
       	Magic Circles is ideal for randomly generating dynamic images. They are like snowflakes!
    </p>
    <pre>
      <code class='hljs-javascript'>   var drawRandomCircle = function(count) {

      magic.cast()
        .space(50)
        .ring()
      for (var i = 0; i < count; i++) {

        magic.cast()
          .text("autofit", lol.physics()) 
            .color(lol.randomColor())
          .ring()
          .circleRing(getRandomNumber(24),6)
            .fill(lol.randomColor())
            .color(lol.randomColor())
          .ring()
      }
    }     </code>
    </pre>

    <button class='btn btn-primary' ng-click="reroll()">
        Reroll
    </button>
    <artboard id='repeating' class='full'>
    </artboard>
</div>

	</body>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.0/highlight.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.4.8/d3.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/q.js/0.9.7/q.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.1.1/js/bootstrap.js"></script>

	<script src='../src/lol.js'></script>
	<script src='../src/hexagram.js'></script>
	<script>

    var magic = new MagicCircle("#repeating", 2);

    function getRandomNumber(max) {
      return Math.floor(Math.random() * (max || 10))
    }

    //magic.styles.colors = fire;
    var miscRing = function(count) {

      magic.cast()
        .space(50)
        .ring()
      for (var i = 0; i < count; i++) {

        magic.cast()
          .text("autofit", lol.physics() + lol.physics() + lol.physics())
            .color(lol.randomColor())
          .ring()
          .circleRing(getRandomNumber(24) + 24, getRandomNumber(3) + 3, 2, true)
            .fill(lol.randomColor())
            .color(lol.randomColor())
          .ring()
      }


    }


    miscRing(3);

    $('.example > button').click(function() {
      console.log("Rerolling");
      magic.disperse();
      setTimeout(miscRing, 2000, getRandomNumber(3) + 1)
    });

    
    $('.example').ready(function() {
      $('pre code').each(function(i, block) {
        console.log("hljs?", hljs)
        hljs.highlightBlock(block);
      });
    }); //call it here
	</script>
</html>